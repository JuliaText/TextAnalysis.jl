<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Corpus · TextAnalysis</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/><link href="assets/custom.css" rel="stylesheet" type="text/css"/><script src="assets/custom.js"></script></head><body><nav class="toc"><h1>TextAnalysis</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li><a class="toctext" href="documents.html">Documents</a></li><li class="current"><a class="toctext" href="corpus.html">Corpus</a><ul class="internal"><li><a class="toctext" href="#Creating-a-Corpus-1">Creating a Corpus</a></li><li><a class="toctext" href="#Standardizing-a-Corpus-1">Standardizing a Corpus</a></li><li><a class="toctext" href="#Processing-a-Corpus-1">Processing a Corpus</a></li><li><a class="toctext" href="#Corpus-Statistics-1">Corpus Statistics</a></li><li><a class="toctext" href="#Converting-a-DataFrame-from-a-Corpus-1">Converting a DataFrame from a Corpus</a></li></ul></li><li><a class="toctext" href="features.html">Features</a></li><li><a class="toctext" href="semantic.html">Semantic Analysis</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="corpus.html">Corpus</a></li></ul><a class="edit-page" href="https://github.com/johnmyleswhite/TextAnalysis.jl/blob/master/docs/src/corpus.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Corpus</span><a class="fa fa-bars" href="#"></a></div></header><h2><a class="nav-anchor" id="Creating-a-Corpus-1" href="#Creating-a-Corpus-1">Creating a Corpus</a></h2><p>Working with isolated documents gets boring quickly. We typically want to work with a collection of documents. We represent collections of documents using the Corpus type:</p><pre><code class="language-none">crps = Corpus(Any[StringDocument(&quot;Document 1&quot;),
                  StringDocument(&quot;Document 2&quot;)])</code></pre><h2><a class="nav-anchor" id="Standardizing-a-Corpus-1" href="#Standardizing-a-Corpus-1">Standardizing a Corpus</a></h2><p>A <code>Corpus</code> may contain many different types of documents:</p><pre><code class="language-none">crps = Corpus(Any[StringDocument(&quot;Document 1&quot;),
                  TokenDocument(&quot;Document 2&quot;),
                  NGramDocument(&quot;Document 3&quot;)])</code></pre><p>It is generally more convenient to standardize all of the documents in a corpus using a single type. This can be done using the <code>standardize!</code> function:</p><pre><code class="language-none">standardize!(crps, NGramDocument)</code></pre><p>After this step, you can check that the corpus only contains <code>NGramDocument</code>&#39;s:</p><pre><code class="language-none">crps</code></pre><h2><a class="nav-anchor" id="Processing-a-Corpus-1" href="#Processing-a-Corpus-1">Processing a Corpus</a></h2><p>We can apply the same sort of preprocessing steps that are defined for individual documents to an entire corpus at once:</p><pre><code class="language-none">crps = Corpus(Any[StringDocument(&quot;Document 1&quot;),
                  StringDocument(&quot;Document 2&quot;)])
remove_punctuation!(crps)</code></pre><p>These operations are run on each document in the corpus individually.</p><h2><a class="nav-anchor" id="Corpus-Statistics-1" href="#Corpus-Statistics-1">Corpus Statistics</a></h2><p>Often we wish to think broadly about properties of an entire corpus at once. In particular, we want to work with two constructs:</p><ul><li><p>_Lexicon_: The lexicon of a corpus consists of all the terms that occur in any document in the corpus. The lexical frequency of a term tells us how often a term occurs across all of the documents. Often the most interesting words in a document are those words whose frequency within a document is higher than their frequency in the corpus as a whole.</p></li><li><p>_Inverse Index_: If we are interested in a specific term, we often want to know which documents in a corpus contain that term. The inverse index tells us this and therefore provides a simplistic sort of search algorithm.</p></li></ul><p>Because computations involving the lexicon can take a long time, a <code>Corpus</code>&#39;s default lexicon is blank:</p><pre><code class="language-none">lexicon(crps)</code></pre><p>In order to work with the lexicon, you have to update it and then access it:</p><pre><code class="language-none">update_lexicon!(crps)
lexicon(crps)</code></pre><p>But once this work is done, you can easier address lots of interesting questions about a corpus:</p><pre><code class="language-none">lexical_frequency(crps, &quot;Summer&quot;)
lexical_frequency(crps, &quot;Document&quot;)</code></pre><p>Like the lexicon, the inverse index for a corpus is blank by default:</p><pre><code class="language-none">inverse_index(crps)</code></pre><p>Again, you need to update it before you can work with it:</p><pre><code class="language-none">update_inverse_index!(crps)
inverse_index(crps)</code></pre><p>But once you&#39;ve updated the inverse index, you can easily search the entire corpus:</p><pre><code class="language-none">crps[&quot;Document&quot;]
crps[&quot;1&quot;]
crps[&quot;Summer&quot;]</code></pre><h2><a class="nav-anchor" id="Converting-a-DataFrame-from-a-Corpus-1" href="#Converting-a-DataFrame-from-a-Corpus-1">Converting a DataFrame from a Corpus</a></h2><p>Sometimes we want to apply non-text specific data analysis operations to a corpus. The easiest way to do this is to convert a <code>Corpus</code> object into a <code>DataFrame</code>:</p><pre><code class="language-none">convert(DataFrame, crps)</code></pre><footer><hr/><a class="previous" href="documents.html"><span class="direction">Previous</span><span class="title">Documents</span></a><a class="next" href="features.html"><span class="direction">Next</span><span class="title">Features</span></a></footer></article></body></html>
